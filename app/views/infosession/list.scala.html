@(enrolled: InfoSession = null, sessions: List[InfoSession])

@import database.DatabaseHelper;
@main("Infosessies"){

    <h1>Infosessies</h1>

    <!-- TODO: only show button when admin -->
    <a class="btn btn-primary btn-lg" href="@routes.InfoSessions.newSession">Nieuwe infosessie</a>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>#</th>
                <th>Datum</th>
                <th>Host</th>
                <th>Adres</th>
                <th>Acties</th>
            </tr>
        </thead>

        <tbody>
            @for((session, index) <- sessions.zipWithIndex) {
                <tr>
                    <td>@(index + 1)</td>
                    <td>@session.getTime.toString("yyyy-MM-dd HH:mm:ss")</td>
                    <td>@session.getHost</td>
                    <td>@session.getAddress</td>

                    <td>
                            <div class="btn-group btn-group-xs">
                                @if(enrolled == null) {
                                    <a class="btn btn-success" href="@routes.InfoSessions.enrollSession(session.getId)">Inschrijven</a>
                                } else {
                                    <button type="button" class="btn btn-success" disabled="disabled">Inschrijven</button>
                                }
                            <a class="btn btn-warning" href="@routes.InfoSessions.unenrollSession">Uitschrijven</a>
                                @if(DatabaseHelper.getUserProvider.getUser(session.get("email")).hasRole(UserRole.ADMIN)) {
                                    <a class="btn btn-primary">Bewerken</a>
                                }
                        </div>
                    </td>
                </tr>
            }
        </tbody>
    </table>
}